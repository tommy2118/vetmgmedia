<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>VetMG Discovery Call Tool</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @media print {
      body { font-size: 10pt; }
      .no-print { display: none !important; }
      button { display: none !important; }
    }
  </style>
</head>
<body class="bg-gray-50">
  <div id="auth-gate" class="min-h-screen flex items-center justify-center p-4">
    <div class="bg-white p-8 rounded-lg shadow-xl max-w-md w-full">
      <h1 class="text-2xl font-bold mb-6 text-gray-900">Admin Access Required</h1>
      <form id="auth-form" class="space-y-4">
        <div>
          <label class="block text-sm font-semibold mb-2">Password</label>
          <input type="password" id="admin-password" class="w-full p-3 border rounded" />
        </div>
        <button type="submit" class="w-full bg-red-700 text-white py-3 rounded font-semibold">
          Access Tool
        </button>
      </form>
      <p id="auth-error" class="text-red-600 text-sm mt-2 hidden">Incorrect password</p>
    </div>
  </div>

  <div id="discovery-tool" class="hidden max-w-6xl mx-auto bg-gray-50 p-6">
    <!-- Header -->
    <div class="bg-red-700 text-white p-6 rounded-lg mb-6 shadow-lg no-print">
      <div class="flex items-center justify-between">
        <div>
          <h1 class="text-3xl font-bold mb-2">VetMG Discovery Call Tool</h1>
          <p class="text-red-100">Qualify prospects and close financing-ready contractors</p>
        </div>
        <svg class="w-12 h-12" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
        </svg>
      </div>
    </div>

    <!-- Prospect Info -->
    <div class="bg-white p-6 rounded-lg shadow mb-6">
      <h2 class="text-xl font-bold mb-4">Prospect Information</h2>
      <div class="grid md:grid-cols-2 gap-4">
        <div>
          <label class="block text-sm font-semibold mb-2">Prospect Name</label>
          <input type="text" id="prospect-name" class="w-full p-3 border rounded" placeholder="John Smith">
        </div>
        <div>
          <label class="block text-sm font-semibold mb-2">Company Name</label>
          <input type="text" id="company-name" class="w-full p-3 border rounded" placeholder="Smith Roofing LLC">
        </div>
        <div>
          <label class="block text-sm font-semibold mb-2">Phone</label>
          <input type="tel" id="phone" class="w-full p-3 border rounded" placeholder="(555) 123-4567">
        </div>
        <div>
          <label class="block text-sm font-semibold mb-2">Trade/Specialty</label>
          <input type="text" id="trade" class="w-full p-3 border rounded" placeholder="HVAC, Roofing, Landscaping">
        </div>
      </div>
    </div>

    <!-- Pre-Call Research -->
    <div class="bg-blue-50 p-6 rounded-lg shadow mb-6 border-l-4 border-blue-600">
      <h2 class="text-xl font-bold mb-4">Pre-Call Research (5 min)</h2>
      <div class="space-y-3">
        <label class="flex items-start gap-3">
          <input type="checkbox" class="mt-1">
          <span>Current website found? <input type="text" id="current-website" placeholder="URL" class="ml-2 p-1 border rounded w-64"></span>
        </label>
        <label class="flex items-start gap-3">
          <input type="checkbox" class="mt-1">
          <span>Google reviews checked? <input type="number" id="review-count" placeholder="Count" class="ml-2 p-1 border rounded w-20"></span>
        </label>
        <label class="flex items-center gap-3">
          <input type="checkbox">
          <span>Business license/insurance visible online?</span>
        </label>
        <label class="flex items-center gap-3">
          <input type="checkbox">
          <span>LinkedIn or Facebook business page found?</span>
        </label>
      </div>
      <div class="mt-4">
        <label class="block text-sm font-semibold mb-2">First Impression Notes:</label>
        <textarea id="first-impression" class="w-full p-3 border rounded" rows="2" placeholder="Quick notes on what you found..."></textarea>
      </div>
    </div>

    <!-- Opening Script -->
    <div class="bg-green-50 p-6 rounded-lg shadow mb-6 border-l-4 border-green-600">
      <h2 class="text-xl font-bold mb-3">Opening Script (2 min)</h2>
      <div class="bg-white p-4 rounded border-l-4 border-green-500 italic text-gray-700">
        "Hey <span id="script-name">[Name]</span>, thanks for taking the time. I'm Tommy, founder of VetMG Media. Before we dive in, I want to make sure this is a good use of your time. I'm going to ask you some questions about your business and where you're at with customer financing. At the end, I'll let you know if I think we can help, and if so, what that looks like. Sound good?"
      </div>
    </div>

    <!-- Qualification Scorecard -->
    <div class="bg-white p-6 rounded-lg shadow mb-6">
      <h2 class="text-2xl font-bold mb-4 flex items-center gap-2">
        <svg class="w-6 h-6 text-blue-600" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/></svg>
        Qualification Scorecard
      </h2>

      <div class="overflow-x-auto">
        <table class="w-full border-collapse">
          <thead>
            <tr class="bg-gray-100">
              <th class="border p-3 text-left">Criteria</th>
              <th class="border p-3 text-center w-32">Red (1)</th>
              <th class="border p-3 text-center w-32">Yellow (2)</th>
              <th class="border p-3 text-center w-32">Green (3)</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="border p-3 font-semibold">Time in business</td>
              <td class="border p-3 text-center"><input type="radio" name="score1" value="1" class="score-input"> &lt;1 year</td>
              <td class="border p-3 text-center"><input type="radio" name="score1" value="2" class="score-input"> 1-2 years</td>
              <td class="border p-3 text-center"><input type="radio" name="score1" value="3" class="score-input"> 3+ years</td>
            </tr>
            <tr class="bg-gray-50">
              <td class="border p-3 font-semibold">Annual revenue</td>
              <td class="border p-3 text-center"><input type="radio" name="score2" value="1" class="score-input"> &lt;$50K</td>
              <td class="border p-3 text-center"><input type="radio" name="score2" value="2" class="score-input"> $50K-$150K</td>
              <td class="border p-3 text-center"><input type="radio" name="score2" value="3" class="score-input"> $150K+</td>
            </tr>
            <tr>
              <td class="border p-3 font-semibold">Has website?</td>
              <td class="border p-3 text-center"><input type="radio" name="score3" value="1" class="score-input"> Professional</td>
              <td class="border p-3 text-center"><input type="radio" name="score3" value="2" class="score-input"> DIY/outdated</td>
              <td class="border p-3 text-center"><input type="radio" name="score3" value="3" class="score-input"> No site</td>
            </tr>
            <tr class="bg-gray-50">
              <td class="border p-3 font-semibold">Reviews</td>
              <td class="border p-3 text-center"><input type="radio" name="score4" value="1" class="score-input"> 0-1</td>
              <td class="border p-3 text-center"><input type="radio" name="score4" value="2" class="score-input"> 2-5</td>
              <td class="border p-3 text-center"><input type="radio" name="score4" value="3" class="score-input"> 5+</td>
            </tr>
            <tr>
              <td class="border p-3 font-semibold">Financing urgency</td>
              <td class="border p-3 text-center"><input type="radio" name="score5" value="1" class="score-input"> Just curious</td>
              <td class="border p-3 text-center"><input type="radio" name="score5" value="2" class="score-input"> Interested</td>
              <td class="border p-3 text-center"><input type="radio" name="score5" value="3" class="score-input"> Need it now</td>
            </tr>
            <tr class="bg-gray-50">
              <td class="border p-3 font-semibold">Budget comfort</td>
              <td class="border p-3 text-center"><input type="radio" name="score6" value="1" class="score-input"> Can't afford</td>
              <td class="border p-3 text-center"><input type="radio" name="score6" value="2" class="score-input"> Hesitant</td>
              <td class="border p-3 text-center"><input type="radio" name="score6" value="3" class="score-input"> Ready</td>
            </tr>
            <tr>
              <td class="border p-3 font-semibold">Timeline</td>
              <td class="border p-3 text-center"><input type="radio" name="score7" value="1" class="score-input"> No rush</td>
              <td class="border p-3 text-center"><input type="radio" name="score7" value="2" class="score-input"> 30-60 days</td>
              <td class="border p-3 text-center"><input type="radio" name="score7" value="3" class="score-input"> ASAP</td>
            </tr>
            <tr class="bg-gray-50">
              <td class="border p-3 font-semibold">Decision maker</td>
              <td class="border p-3 text-center"><input type="radio" name="score8" value="1" class="score-input"> Multiple</td>
              <td class="border p-3 text-center"><input type="radio" name="score8" value="2" class="score-input"> +1 partner</td>
              <td class="border p-3 text-center"><input type="radio" name="score8" value="3" class="score-input"> Solo</td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class="mt-6 bg-gray-100 p-6 rounded-lg">
        <div class="flex items-center justify-between mb-4">
          <h3 class="text-2xl font-bold">Total Score:</h3>
          <div id="total-score" class="text-5xl font-bold text-gray-400">0 / 24</div>
        </div>
        <div id="score-label" class="text-2xl font-bold text-center p-4 rounded bg-gray-300 text-gray-600">
          SELECT SCORES ABOVE
        </div>
        <div class="mt-4 space-y-2 text-sm">
          <div class="flex items-center gap-2">
            <span class="font-bold">20-24 points:</span>
            <span>🟢 IDEAL CLIENT - Send proposal immediately</span>
          </div>
          <div class="flex items-center gap-2">
            <span class="font-bold">15-19 points:</span>
            <span>🟡 GOOD FIT - Move forward with clear next steps</span>
          </div>
          <div class="flex items-center gap-2">
            <span class="font-bold">10-14 points:</span>
            <span>🟠 BORDERLINE - Nurture or pass</span>
          </div>
          <div class="flex items-center gap-2">
            <span class="font-bold">Below 10:</span>
            <span>🔴 NOT A FIT - Politely decline or refer elsewhere</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Call Notes -->
    <div class="bg-white p-6 rounded-lg shadow mb-6">
      <h2 class="text-xl font-bold mb-4">Call Notes</h2>
      <div class="space-y-4">
        <div>
          <label class="block text-sm font-semibold mb-2">Why financing NOW?</label>
          <textarea id="why-financing" class="w-full p-3 border rounded" rows="2" placeholder="Their motivation and pain points..."></textarea>
        </div>
        <div>
          <label class="block text-sm font-semibold mb-2">Applied to financing before?</label>
          <textarea id="financing-history" class="w-full p-3 border rounded" rows="2" placeholder="Which platforms? Approved/rejected?"></textarea>
        </div>
        <div>
          <label class="block text-sm font-semibold mb-2">Current website situation:</label>
          <textarea id="website-situation" class="w-full p-3 border rounded" rows="2" placeholder="What they have, what they don't like..."></textarea>
        </div>
        <div>
          <label class="block text-sm font-semibold mb-2">Budget discussed:</label>
          <input type="text" id="budget" class="w-full p-3 border rounded" placeholder="$3,500 - $5,500">
        </div>
        <div>
          <label class="block text-sm font-semibold mb-2">Timeline expectation:</label>
          <input type="text" id="timeline" class="w-full p-3 border rounded" placeholder="2-3 weeks, ASAP, etc.">
        </div>
        <div>
          <label class="block text-sm font-semibold mb-2">Objections raised:</label>
          <textarea id="objections" class="w-full p-3 border rounded" rows="2" placeholder="Price concerns, timing, skepticism..."></textarea>
        </div>
      </div>
    </div>

    <!-- Follow-up Template -->
    <div class="bg-green-50 p-6 rounded-lg shadow mb-6 border-l-4 border-green-600 no-print">
      <h2 class="text-2xl font-bold mb-4">Follow-up Email Template</h2>
      <div class="grid md:grid-cols-2 gap-4 mb-4">
        <div>
          <label class="block text-sm font-semibold mb-2">Pain Point:</label>
          <input type="text" id="email-pain" class="w-full p-2 border rounded" placeholder="What's their main problem?">
        </div>
        <div>
          <label class="block text-sm font-semibold mb-2">Package:</label>
          <input type="text" id="email-package" class="w-full p-2 border rounded" placeholder="Qualification Package">
        </div>
        <div>
          <label class="block text-sm font-semibold mb-2">Investment:</label>
          <input type="text" id="email-investment" class="w-full p-2 border rounded" placeholder="$3,500">
        </div>
        <div>
          <label class="block text-sm font-semibold mb-2">Timeline:</label>
          <input type="text" id="email-timeline" class="w-full p-2 border rounded" placeholder="2-3 weeks">
        </div>
      </div>
      <button onclick="copyEmailTemplate()" class="bg-green-600 text-white px-6 py-3 rounded font-bold hover:bg-green-700 w-full mb-3">
        📋 Copy Email Template to Clipboard
      </button>
      <div id="email-preview" class="bg-white p-4 rounded border text-sm font-mono whitespace-pre-wrap"></div>
    </div>

    <!-- Red/Green Flags -->
    <div class="grid md:grid-cols-2 gap-6 mb-6">
      <div class="bg-red-50 p-6 rounded-lg shadow border-l-4 border-red-600">
        <h2 class="text-xl font-bold mb-4 text-red-800">Red Flags 🚩</h2>
        <ul class="space-y-2 text-sm">
          <li>• Vague about revenue/business details</li>
          <li>• "I just need a cheap website"</li>
          <li>• No sense of urgency</li>
          <li>• Can't articulate why they need financing</li>
          <li>• Wants everything but won't invest</li>
          <li>• Comparing you to Fiverr/Upwork</li>
          <li>• Multiple "I need to think about it" responses</li>
        </ul>
      </div>

      <div class="bg-green-50 p-6 rounded-lg shadow border-l-4 border-green-600">
        <h2 class="text-xl font-bold mb-4 text-green-800">Green Flags ✅</h2>
        <ul class="space-y-2 text-sm">
          <li>• "I was rejected by [Financing Company]"</li>
          <li>• Asks detailed questions about timeline</li>
          <li>• "What do I need to send you to get started?"</li>
          <li>• Mentions specific dollar amounts they're losing</li>
          <li>• "When can we start?"</li>
          <li>• Veteran or understands military mindset</li>
          <li>• References competitors who offer financing</li>
        </ul>
      </div>
    </div>

    <!-- Print Button -->
    <div class="text-center no-print">
      <button onclick="window.print()" class="bg-blue-600 text-white px-8 py-4 rounded-lg font-bold text-lg hover:bg-blue-700 shadow-lg">
        🖨️ Print Discovery Document
      </button>
    </div>
  </div>

  <script>
    // Simple password protection
    const ADMIN_PASSWORD = 'vetmg2025'; // Change this to your preferred password

    document.getElementById('auth-form').addEventListener('submit', (e) => {
      e.preventDefault();
      const password = document.getElementById('admin-password').value;
      if (password === ADMIN_PASSWORD) {
        document.getElementById('auth-gate').classList.add('hidden');
        document.getElementById('discovery-tool').classList.remove('hidden');
        sessionStorage.setItem('vetmg-auth', 'true');
      } else {
        document.getElementById('auth-error').classList.remove('hidden');
      }
    });

    // Check if already authenticated
    if (sessionStorage.getItem('vetmg-auth') === 'true') {
      document.getElementById('auth-gate').classList.add('hidden');
      document.getElementById('discovery-tool').classList.remove('hidden');
    }

    // Update script name dynamically
    document.getElementById('prospect-name').addEventListener('input', (e) => {
      document.getElementById('script-name').textContent = e.target.value || '[Name]';
      updateEmailPreview();
    });

    // Score calculation
    let scores = {};
    document.querySelectorAll('.score-input').forEach(input => {
      input.addEventListener('change', updateScore);
    });

    function updateScore() {
      scores = {};
      for (let i = 1; i <= 8; i++) {
        const selected = document.querySelector(`input[name="score${i}"]:checked`);
        if (selected) {
          scores[`score${i}`] = parseInt(selected.value);
        }
      }

      const totalScore = Object.values(scores).reduce((sum, val) => sum + val, 0);
      const totalScoreEl = document.getElementById('total-score');
      const scoreLabelEl = document.getElementById('score-label');

      totalScoreEl.textContent = `${totalScore} / 24`;

      if (totalScore >= 20) {
        totalScoreEl.className = 'text-5xl font-bold text-green-600';
        scoreLabelEl.className = 'text-2xl font-bold text-center p-4 rounded bg-green-100 text-green-800';
        scoreLabelEl.textContent = '🟢 IDEAL CLIENT';
      } else if (totalScore >= 15) {
        totalScoreEl.className = 'text-5xl font-bold text-yellow-600';
        scoreLabelEl.className = 'text-2xl font-bold text-center p-4 rounded bg-yellow-100 text-yellow-800';
        scoreLabelEl.textContent = '🟡 GOOD FIT';
      } else if (totalScore >= 10) {
        totalScoreEl.className = 'text-5xl font-bold text-orange-600';
        scoreLabelEl.className = 'text-2xl font-bold text-center p-4 rounded bg-orange-100 text-orange-800';
        scoreLabelEl.textContent = '🟠 BORDERLINE';
      } else if (totalScore > 0) {
        totalScoreEl.className = 'text-5xl font-bold text-red-600';
        scoreLabelEl.className = 'text-2xl font-bold text-center p-4 rounded bg-red-100 text-red-800';
        scoreLabelEl.textContent = '🔴 NOT A FIT';
      }
    }

    // Email template
    const emailFields = ['email-pain', 'email-package', 'email-investment', 'email-timeline'];
    emailFields.forEach(id => {
      document.getElementById(id).addEventListener('input', updateEmailPreview);
    });

    function updateEmailPreview() {
      const name = document.getElementById('prospect-name').value || '[Name]';
      const pain = document.getElementById('email-pain').value || '[Pain point]';
      const pkg = document.getElementById('email-package').value || '[Package]';
      const investment = document.getElementById('email-investment').value || '[Amount]';
      const timeline = document.getElementById('email-timeline').value || '[Timeline]';

      const template = `Subject: Next Steps - VetMG Media Proposal

Hey ${name},

Great talking with you today. Based on our conversation, here's what I'm proposing:

**Your Situation:**
- ${pain}

**What We'll Build:**
- ${pkg}
- Investment: ${investment}
- Timeline: ${timeline}

**Next Steps:**
1. Review this proposal
2. Let me know if you have questions
3. Let's schedule a quick call: [Calendar link]

Talk soon,
Tommy
VetMG Media LLC
(502) 240-9897`;

      document.getElementById('email-preview').textContent = template;
    }

    function copyEmailTemplate() {
      const template = document.getElementById('email-preview').textContent;
      navigator.clipboard.writeText(template).then(() => {
        alert('Email template copied to clipboard!');
      });
    }

    updateEmailPreview();
  </script>
</body>
</html>
